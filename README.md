# ğŸ” í•œêµ­ì„ìƒì •ë³´ ê²€ìƒ‰ì°½

_ì›í‹°ë“œ í”„ë¦¬ì˜¨ë³´ë”© ì¸í„´ì‹­ 17íŒ€ 3ì£¼ì°¨ ê¸°ì—…ê³¼ì œ_

## í”„ë¡œì íŠ¸ ì†Œê°œ

### ë‚´ìš©

ì›í‹°ë“œ í”„ë¦¬ì˜¨ë³´ë”© í”„ë¡ íŠ¸ì—”ë“œ ì¸í„´ì‹­ 3ì£¼ì°¨ ê³¼ì œ ë‚´ìš©ì„ êµ¬í˜„í•œ í”„ë¡œì íŠ¸ ì…ë‹ˆë‹¤.

### ëª©í‘œ

[í•œêµ­ì„ìƒì •ë³´](https://clinicaltrialskorea.com/)ì˜ ê²€ìƒ‰ì°½ í´ë¡ ì½”ë”©

<br/>
<br/>

## í”„ë¡œì íŠ¸ ë§í¬

[ğŸ”—Link](https://web-related-keyword-eu1k2lllc2s1v2.sel3.cloudtype.app/)

FE ë°°í¬ëŠ” `Cloud Type`ì„ ì´ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

<br/>
<br/>

## í”„ë¡œì íŠ¸ ì‹¤í–‰ ê°€ì´ë“œ

- ì‹¤í–‰ì„ ìœ„í•´ ë‹¤ìŒ Node versionì´ í•„ìš”í•©ë‹ˆë‹¤.
  [Node.js 18.17.0](https://nodejs.org/ca/blog/release/v18.17.0/)

- ì‹¤í–‰ ë°©ë²• (2ê°€ì§€ ì¤‘ íƒ 1)
  > 1. ë°°í¬ ë§í¬ë¥¼ í†µí•œ ì ‘ì†
  > 2. ZIP íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë° ì••ì¶• í’€ê¸° í›„ ì½”ë“œ ì—ë””í„°ë¡œ ì‹¤í–‰
  > 3. ì•„ë˜ ì»¤ë©˜ë“œë¥¼ ì´ìš©í•œ ì‹¤í–‰

```bash
$ git clone https://github.com/H0onnn/related-keyword.git
$ cd wanted-onboarding-03
$ npm install
$ npm run start
```

<br/>
<br/>

## ê¸°ìˆ  ìŠ¤íƒ

#### Development

![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=Typescript&logoColor=white)
![React](https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)
<img src="https://img.shields.io/badge/Node.js v18 (LTS)-grey?style=for-the-badge&logo=nodedotjs">

#### Convention

![Static Badge](https://img.shields.io/badge/ESLINT%20-%20%23942894?style=for-the-badge&logo=ESLINT)
![Static Badge](https://img.shields.io/badge/PRETTIER%20-%20%23AE5E1A?style=for-the-badge&logo=PRETTIER)
<img src="https://img.shields.io/badge/husky-brown?style=for-the-badge&logo=npm">

#### Network & Route

![Axios](https://img.shields.io/badge/axios-5A29E4?style=for-the-badge&logo=axios&logoColor=black)
![Static Badge](https://img.shields.io/badge/REACT%20ROUTER%20-%20%23F4AAAA?style=for-the-badge&logo=REACT%20ROUTER)

### Styling

<img src="https://img.shields.io/badge/styled component-DB7093?style=for-the-badge&logo=styled-components&logoColor=white"/>

<br/>
<br/>

## ğŸš€ í”„ë¡œì íŠ¸ ê¸°ìˆ  êµ¬í˜„ì— ëŒ€í•œ ë…¼ì˜

#### [Assignment 1] ê²€ìƒ‰ì°½ ë° ê²€ìƒ‰ì–´ ì¶”ì²œ ê¸°ëŠ¥ (ê²€ìƒ‰ê°’ì— ë”°ë¥¸ API í˜¸ì¶œë¡œ ì¶”ì²œ ê²€ìƒ‰ì–´ í‘œì‹œ)

- 1.1) ê²€ìƒ‰ì°½ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

  > ì»´í¬ë„ŒíŠ¸ë¥¼ ê´€ì‹¬ì‚¬ ë³„ë¡œ ë¶„ë¦¬ ì„¤ê³„í•˜ì—¬ ê° ì»´í¬ë„ŒíŠ¸ëŠ” ë…ë¦½ì ì¸ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

- 1.2) API í˜¸ì¶œ

  > API í˜¸ì¶œì‹œì—ëŠ” Axios ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
  >
  > > client ë¡œì§ì„ class ë¬¸ë²•ìœ¼ë¡œ ë¦¬íŒ©í† ë§ í•˜ì—¬ ë©”ì„œë“œë¥¼ ë¶„ë¦¬í•˜ê³ , private filedë¥¼ ì´ìš©í•´ ì™¸ë¶€ì—ì„œ instanceì— ì ‘ê·¼í•  ìˆ˜ ì—†ë„ë¡ í–ˆìŠµë‹ˆë‹¤.
  >
  > > httpClient ë¡œì§ì„ ë³„ë„ íŒŒì¼ë¡œ ì‘ì„±í•˜ì—¬ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤. axiosì˜ interceptorsë¥¼ ì´ìš©í•´ responseì— ëŒ€í•œ error ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤.

- 1.3) ì¶”ì²œ ê²€ìƒ‰ì–´ í‘œì‹œ

  > ì‚¬ìš©ìê°€ Inputì— ì…ë ¥í•œ ê²€ìƒ‰ê°’ì— ë”°ë¼ APIë¥¼ í˜¸ì¶œí•˜ì—¬ response dataë¥¼ ë°›ì•„ì™€, ì´ë¥¼ mapping í•˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

- 1.4) ê²€ìƒ‰ì–´ê°€ ì—†ì„ ê²½ìš°
  > ì•„ë¬´ëŸ° ì¶”ì²œ ê²€ìƒ‰ì–´ê°€ ì—†ì„ ê²½ìš°ì—ëŠ” ëª¨ë‹¬ì°½ì— 'ê²€ìƒ‰ì–´ ì—†ìŒ' ë¬¸êµ¬ë¥¼ ì¶œë ¥í•˜ì˜€ìŠµë‹ˆë‹¤.
  > ![image](https://github.com/H0onnn/related-keyword/assets/116232939/2e3e0e62-b187-467e-9783-a703cf47e50d)

<br/>

#### [Assignment 2] ë¡œì»¬ ìºì‹± ê¸°ëŠ¥ (API í˜¸ì¶œ ê²°ê³¼ì— ëŒ€í•œ ë¡œì»¬ ìºì‹±)

ë¡œì»¬ ìºì‹± ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ë°ì—ëŠ” ë‹¤ì–‘í•œ ë°©ë²•ì´ ì¡´ì¬í•©ë‹ˆë‹¤. (storage, library, cache api, react-context, indexedDB ë“±) ì €ëŠ” í•´ë‹¹ ë°©ë²• ì¤‘ 'local storage'ë¥¼ ì´ìš©í•œ ìºì‹±ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤.
ì œê°€ ìƒê°í•œ local storageë¥¼ ì‚¬ìš©í–ˆì„ ë•Œì˜ ì¥ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

1. í¸ë¦¬í•¨ - ì›¹ ìŠ¤í† ë¦¬ì§€ì˜ ê²½ìš° ë‹¨ìˆœí•œ êµ¬ì¡°ë¡œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê³  ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¡œì¸í•´ í•™ìŠµìì˜ ì…ì¥ì—ì„œ ìºì‹±ì˜ ê¸°ë³¸ ê°œë…ì„ ë¹ ë¥´ê²Œ ìµíˆê³  êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2. í˜¸í™˜ì„± - ëŒ€ë¶€ë¶„ì˜ ì›¹ ë¸Œë¼ìš°ì €ëŠ” ì›¹ ìŠ¤í† ë¦¬ì§€ë¥¼ ì§€ì›í•˜ê¸°ì— í˜¸í™˜ì„± ë¬¸ì œë¥¼ ê±±ì •í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.
3. ì§ê´€ì„± - ì›¹ ìŠ¤í† ë¦¬ì§€ëŠ” ê°œë°œìê°€ ë¸Œë¼ìš°ì €ì˜ ê°œë°œì ë„êµ¬ì—ì„œ ìŠ¤í† ë¦¬ì§€ì˜ ë‚´ìš©ì„ ì‰½ê²Œ í™•ì¸í•˜ê³  í•„ìš”ì— ë”°ë¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, ìºì‹± ë°ì´í„°ê°€ ì–´ë–»ê²Œ ì €ì¥ë˜ê³  ìˆ˜ì • ë° ì‚­ì œë˜ëŠ”ì§€ ì§ê´€ì ì¸ í™•ì¸ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

ìœ„ì™€ ê°™ì€ ì´ìœ ë¡œ ì›¹ ìŠ¤í† ë¦¬ì§€ë¡œ ë¡œì»¬ ìºì‹±ì˜ ê¸°ë³¸ ê°œë…ê³¼ íŒ¨í„´ì„ ë¹ ë¥´ê²Œ í•™ìŠµí•˜ì—¬ ì§ì ‘ ì‚¬ìš©í•´ë³´ê³ ì í•´ë‹¹ ë°©ë²•ì„ ì±„íƒí•˜ì˜€ìœ¼ë©°, ì¶”í›„ cache APIì™€ ê°™ì€ ë°©ë²•ì„ í†µí•´ ë¦¬íŒ©í† ë§ì„ ì˜ˆì •í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì›¹ ìŠ¤í† ë¦¬ì§€ ì¤‘ íƒ­ì„ ë‹«ê±°ë‚˜ ë¸Œë¼ìš°ì €ë¥¼ ì¢…ë£Œí–ˆì„ ë•Œ ë°ì´í„°ê°€ ìœ ì‹¤ë˜ì§€ ì•Šë„ë¡ í•˜ê¸° ìœ„í•´ 'local storage'ë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤.

- 2.1) ìºì‹± ë¡œì§ êµ¬í˜„

  > ì»¤ìŠ¤í…€ í›…ì˜ ê²½ìš° ë¦¬ì•¡íŠ¸ì˜ ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œë§Œ ì‚¬ìš©ë˜ì–´ì•¼ í•˜ëŠ” ê·œì¹™ì´ ë”°ë¥´ê¸° ë•Œë¬¸ì—, API í˜¸ì¶œ ë“±ì—ì„œ ì‚¬ìš©ë˜ëŠ” caching ë¡œì§ì€ util í•¨ìˆ˜ë¡œ ì‘ì„±í•˜ëŠ”ê²ƒì´ ë” ì í•©í•˜ë‹¤ê³  íŒë‹¨í•˜ì—¬, localCache.ts util í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ìê°€ ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ë©´ ë°ì´í„° ì¡°íšŒ ë¡œì§ì„ ìˆ˜í–‰í•˜ì—¬ storage ë‚´ì˜ key ê°’ì„ í™•ì¸í•˜ê³ , ìºì‹œì— ë°ì´í„°ê°€ ìˆìœ¼ë©´ APIë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šê³  í•´ë‹¹ ê°’ì„ ì‚¬ìš©í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤. ë§Œì•½ ìºì‹œì— ë°ì´í„°ê°€ ì—†ë‹¤ë©´, API í˜¸ì¶œì„ í†µí•´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê²Œ ë©ë‹ˆë‹¤. ì´ ë•Œ API í˜¸ì¶œ ë¹ˆë„ í™•ì¸ì„ ìœ„í•´ console.info('calling api')ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.

- 2.2) expire time êµ¬í˜„
  > ìºì‹± ë°ì´í„°ì˜ ìœ íš¨ì‹œê°„ì„ ê³ ë ¤í•˜ì—¬ expire timeì„ ì ìš©í–ˆìŠµë‹ˆë‹¤. writeToCache í•¨ìˆ˜ ì‹¤í–‰ì‹œ storage valueì— í˜„ì¬ ì‹œê°„ìœ¼ë¡œ timestamp ì†ì„±ì„ ì¶”ê°€í•˜ì—¬ êµ¬ë¬¸ìœ¼ë¡œ ë°ì´í„°ì˜ ìœ íš¨ì‹œê°„ì„ ì„¤ì •í•©ë‹ˆë‹¤. ê·¸ í›„ readFromCache í•¨ìˆ˜ ë‚´ì—ì„œ storage ê°’ì„ ê°€ì ¸ì˜¬ ì‹œ ì¡°ê±´ë¬¸ì„ í†µí•´ ìœ íš¨ì‹œê°„ì„ ê²€ì‚¬í•˜ê²Œ ë©ë‹ˆë‹¤. ë§Œì•½, í•­ëª©ì˜ ìœ íš¨ì‹œê°„ì´ ì§€ë‚  ê²½ìš° localstorage.removeItemì„ ì´ìš©í•˜ì—¬ ìºì‹± ë°ì´í„°ë¥¼ ì‚­ì œí•˜ê³  ë¹ˆ ë°°ì—´ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

```ts
// localCache.ts

import { KeywordDataTypes } from '../constants/types';

const localCache = (() => {
  const writeToCache = (key: string, data: KeywordDataTypes[]) => {
    const storageValue = {
      data,
      timestamp: new Date().getTime(),
    };

    localStorage.setItem(key, JSON.stringify(storageValue));
  };

  const readFromCache = (key: string) => {
    const storageValueString = localStorage.getItem(key);
    if (!storageValueString) return [];

    const storageValue = JSON.parse(storageValueString);

    if (new Date().getTime() - storageValue.timestamp > EXPIRE_TIME) {
      localStorage.removeItem(key);
      return [];
    }

    return storageValue.data;
  };

  return {
    writeToCache,
    readFromCache,
  };
})();

export default localCache;

const EXPIRE_TIME = 5 * 60 * 1000; // 5ë¶„

// data fetching logic ..

const fetchKeywordData = useCallback(async () => {
  if (debouncedValue && debouncedValue.length) {
    setIsLoading(true);
    let data = useCache ? localCache.readFromCache(debouncedValue) : null;

    if (!data || !data.length) {
      console.info('calling api');
      data = await getKeywordData(debouncedValue, useCache);
    }

    setKeywordData(data);
    setIsLoading(false);
  }
}, [debouncedValue, useCache]);
```

<br/>

#### [Assignment 3] API í˜¸ì¶œ ìµœì í™” (ë§¤ ì…ë ¥ë§ˆë‹¤ APIë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šë„ë¡ ì œí•œ)

Inputì— ì‚¬ìš©ìê°€ ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•  ë•Œ ë§¤ ì…ë ¥ì‹œ ë§ˆë‹¤ APIê°€ í˜¸ì¶œë˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, 'ì•”' í‚¤ì›Œë“œë¥¼ ê²€ìƒ‰í•  ê²½ìš° 'ã…‡ + ã… + ã…' ì´ëŸ°ì‹ìœ¼ë¡œ í•˜ë‚˜ì˜ í‚¤ì›Œë“œì— ì´ 3ë²ˆì˜ APIë¥¼ í˜¸ì¶œí–ˆìŠµë‹ˆë‹¤. ì´ëŠ” ë¹„ìš©ìƒìœ¼ë¡œ ë§¤ìš° ë¹„íš¨ìœ¨ì ì´ë©°, ì„œë²„ì— ë¶€í•˜ë¥¼ ì¤„ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ì œí•œí•˜ê¸° ìœ„í•´ ìƒê°í•´ë‚¸ ë°©ë²•ìœ¼ë¡œëŠ” 'ë””ë°”ìš´ì‹±, ì“°ë¡œí‹€ë§, ìºì‹±'ì´ ìˆì—ˆê³ , ê·¸ ì¤‘ ë””ë°”ìš´ìŠ¤ ê¸°ë²•ì„ ì±„íƒí–ˆìŠµë‹ˆë‹¤.

ë””ë°”ìš´ìŠ¤ ê¸°ë²•ì€ ì—°ì†ëœ ì´ë²¤íŠ¸ë¥¼ ê·¸ë£¹í™”í•˜ì—¬ ë§ˆì§€ë§‰ ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ í›„ ì¼ì • ì‹œê°„ì´ ê²½ê³¼í–ˆì„ ë•Œ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ë¹ ë¥´ê²Œ ë°˜ë³µë˜ëŠ” ì´ë²¤íŠ¸ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ ìµœì í™”í•˜ì—¬ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ê³  ë¹„ìš©ì„ ì ˆê°í•˜ëŠ”ë° í° ë„ì›€ì„ ì£¼ëŠ” ê¸°ë²•ìœ¼ë¡œ ì´ëŠ” ì‚¬ìš©ìê°€ Inputì— ë¬¸ìë¥¼ ì…ë ¥í•  ë•Œ ë§ˆë‹¤ APIê°€ í˜¸ì¶œë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ëŠ”ë° ìˆì–´ ê°€ì¥ ì í•©í•œ ë°©ë²•ì´ë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.

- 3.1) ë””ë°”ìš´ì‹± ë¡œì§ êµ¬í˜„
  > ë””ë°”ìš´ì‹±ì„ ì²˜ë¦¬í•˜ëŠ” ë¡œì§ì€ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œë§Œ ì‚¬ìš©ë˜ë©° ì»´í¬ë„ŒíŠ¸ì˜ ë¡œì§ì„ ë‹¨ìˆœí™”í•˜ê³ , ì¶”í›„ ì—¬ëŸ¬ ê³³ì—ì„œ ì¬ì‚¬ìš©ë  ê°€ëŠ¥ì„±ì„ ì—¼ë ¤í•˜ì—¬ useDebounceë¼ëŠ” ì»¤ìŠ¤í…€ í›…ì„ ë§Œë“¤ì–´ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤. ì‘ë™ ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. useStateì˜ ì´ˆê¸°ê°’ìœ¼ë¡œ value (ì‚¬ìš©ìì˜ ì…ë ¥ê°’) ì„ ë°›ìŠµë‹ˆë‹¤. useEffectë¥¼ ì´ìš©í•˜ì—¬ valueì˜ ê°’ì´ ë³€ê²½ë  ë•Œ ë””ë°”ìš´ì‹± ë¡œì§ì´ ì‹¤í–‰ë˜ë„ë¡ í•˜ê³ , setTimeout apië¥¼ í†µí•´ delay ì‹œê°„ì´ ì§€ë‚œ í›„ debouncedValueë¥¼ ìµœì‹ ì˜ value ê°’ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.

```tsx
// useDebounce.ts

import { useEffect, useState } from 'react';

const useDebounce = <T>(value: T, delay?: number): T => {
  const [debouncedValue, setDebouncedValue] = useState<T>(value);

  useEffect(() => {
    const timer = setTimeout(() => setDebouncedValue(value), delay || 500);

    return () => {
      clearTimeout(timer);
    };
  }, [value, delay]);

  return debouncedValue;
};

export default useDebounce;

// Modal.tsx

import { useState } from "react";
import useDebounce from "../../hooks/useDebounce";
// ì´ ì™¸ import êµ¬ë¬¸

const Modal = () => {
    const debouncedValue = useDebounce(query, DELAY_TIME); // useDebounceì— query(ì…ë ¥ê°’) ì™€ delay time ì „ë‹¬

    const fetchKeywordData = useCallback(async () => {
    if (debouncedValue && debouncedValue.length) {
      setIsLoading(true);
      let data = useCache ? localCache.readFromCache(debouncedValue) : null;

      if (!data || !data.length) {
        console.info('calling api');
        data = await getKeywordData(debouncedValue, useCache);
        // ìºì‹±ëœ ë°ì´í„°ê°€ ì—†ì„ ì‹œ api í˜¸ì¶œ í•¨ìˆ˜ì— debouncedValue ì „ë‹¬
      }

      setKeywordData(data);
      setIsLoading(false);
    }
  }, [debouncedValue, useCache]);

// ì´ ì™¸ ìƒëµ
```

<br/>

#### [Assignment 4] í‚¤ë³´ë“œ ì ‘ê·¼ì„± (í‚¤ë³´ë“œë¡œ ì¶”ì²œ ê²€ìƒ‰ì–´ì— ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„)

ì‚¬ìš©ìì—ê²Œ í¸ë¦¬í•œ UX ê²½í—˜ì„ ì œê³µí•˜ê¸° ìœ„í•´ í‚¤ë³´ë“œ ì ‘ê·¼ì„±ì„ ê³ ë ¤í•˜ì—¬ ì¶”ì²œ ê²€ìƒ‰ì–´ ëª¨ë‹¬ì°½ì— ë Œë”ë§ ë˜ëŠ” Itemì— í‚¤ë³´ë“œ ë°©í–¥í‚¤ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ì…ë ¥ëœ í‚¤ë³´ë“œì˜ í‚¤ ê°’ì„ ë°”íƒ•ìœ¼ë¡œ ì´ë²¤íŠ¸ë¦¬ìŠ¤ë„ˆë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ì‹, keyup & keydown ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹, cssë¥¼ ì´ìš©í•œ ë°©ì‹ ë“± ë‹¤ì–‘í•œ ë°©ì‹ì— ëŒ€í•´ ë…¼ì˜í•˜ì˜€ê³ , ì œê°€ ìµœì¢…ì ìœ¼ë¡œ ì„ íƒí•œ ë°©ì‹ì€ 'keyup & keydown ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹' ì…ë‹ˆë‹¤.

keyup & keydown ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì€ ëª¨ë“  í‚¤ ì…ë ¥ì— ëŒ€í•œ ë°˜ì‘ì„ ì œì–´í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í•´ë‹¹ ê¸°ëŠ¥ì— ì í•©í•˜ë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤.

- 4.1) keypress ë¡œì§ êµ¬í˜„ ë°©ì‹

  > í•´ë‹¹ ë¡œì§ì€ keypressì— ëŒ€í•œ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” ì»¤ìŠ¤í…€ í›…ì„ ì‘ì„±í•´ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤. stateë¥¼ í†µí•´ ìœ„, ì•„ë˜ í‚¤ê°€ ëˆŒë ¸ì„ ë•Œ ìƒíƒœë¥¼ ê°ì§€í•˜ì—¬ addEventListnerë¥¼ ì¶”ê°€í•˜ê³  í‚¤ê°€ ë–¼ì–´ì¡Œì„ ë•Œ ì´ë²¤íŠ¸ë¥¼ ì‚­ì œí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. í¬ì»¤ì‹± ë˜ëŠ” itemì˜ index ê°’ì„ focusIdx ìƒíƒœë¡œ ê´€ë¦¬í•˜ì—¬ keypress ì‹œ focusIdx +1, -1 ë¡œì§ì„ í†µí•´ í¬ì»¤ì‹±ì´ ë³€í™˜ë˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

- 4.2) í¬ì»¤ì‹± ì´íƒˆ ì´ìŠˆ

  > focusIdxì— ëŒ€í•´ ë‹¨ìˆœíˆ +, - ë§Œ ì²˜ë¦¬í•  ê²½ìš° ë°˜í™˜ë˜ëŠ” itemì˜ length ë³´ë‹¤ focusIdxê°€ í¬ê±°ë‚˜ ì‘ì•„ì ¸ í¬ì»¤ì‹±ì´ ì œëŒ€ë¡œ ì´ë£¨ì–´ì§€ì§€ ì•ŠëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì¡°ê±´ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ë§¨ ì²«ë²ˆì§¸ ìš”ì†Œ í˜¹ì€ ë§¨ ë§ˆì§€ë§‰ ìš”ì†Œì—ì„œ keypress ë˜ì—ˆì„ ê²½ìš°ì˜ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ì£¼ì—ˆìœ¼ë©°, ì´ë¡œ ì¸í•´ í¬ì»¤ì‹±ì´ ëª¨ë‹¬ì°½ ì•ˆì—ì„œ ìˆœíšŒí•˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

- 4.3) enter keypress

  > ì‚¬ìš©ìê°€ Enter í‚¤ë¥¼ ì…ë ¥í–ˆì„ ê²½ìš° í¬ì»¤ì‹±ëœ itemì˜ sickNmì„ inputì˜ valueë¡œ ì„¤ì •í•˜ì—¬ í•´ë‹¹ ê°’ìœ¼ë¡œ ê²€ìƒ‰ë˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.

- 4.4) í‚¤ë³´ë“œ ìŠ¤í¬ë¡¤ë§
  > focusIdxë¡œ í¬ì»¤ì‹±ë§Œ ì²˜ë¦¬í•´ì¤„ ê²½ìš° ë§Œì•½ ëª¨ë‹¬ì°½ ë³´ë‹¤ ì¶œë ¥ë˜ëŠ” itemì˜ ê°¯ìˆ˜ê°€ ë§ì•„ì§€ë©´ css ì†ì„±ìœ¼ë¡œ ì¸í•´ ìŠ¤í¬ë¡¤ë°”ê°€ ìƒê¸°ê²Œ ë˜ëŠ”ë°, ì´ ë•Œ ìŠ¤í¬ë¡¤ì´ ì´ë™í•˜ì§€ ì•ŠëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ëª¨ë‹¬ì°½ê³¼ ê°ê°ì˜ itemì— React ref, forwardRefë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì†Œë“¤ì˜ ìœ„ì¹˜ë¥¼ ì°¸ì¡°, ìœ„ì¹˜ê°’ì— ë”°ë¼ ìŠ¤í¬ë¡¤ë§ì´ ë˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

```tsx
// useKeyPress.ts

import { useState, useEffect } from 'react';

const useKeyPress = (targetKey: string) => {
  const [keyPressed, setKeyPressed] = useState<boolean>(false);

  useEffect(() => {
    const downHandler = ({ key }: KeyboardEvent) => {
      if (key === targetKey) {
        setKeyPressed(true);
      }
    };

    const upHandler = ({ key }: KeyboardEvent) => {
      if (key === targetKey) {
        setKeyPressed(false);
      }
    };

    window.addEventListener('keydown', downHandler);
    window.addEventListener('keyup', upHandler);

    return () => {
      window.removeEventListener('keydown', downHandler);
      window.removeEventListener('keyup', upHandler);
    };
  }, [targetKey]);

  return keyPressed;
};

export default useKeyPress;

// Modal.tsx

useEffect(() => {
  if (keywordData.length && downPressed) {
    const nextItem = (currentItem + 1) % keywordData.length;
    if (nextItem !== currentItem) {
      setCurrentItem(nextItem);
    }
  }
}, [downPressed]);

useEffect(() => {
  if (keywordData.length && upPressed) {
    const prevItem = (currentItem - 1 + keywordData.length) % keywordData.length;
    if (prevItem !== currentItem) {
      setCurrentItem(prevItem);
    }
  }
}, [upPressed]);

useEffect(() => {
  if (keywordData.length && enterPressed) {
    const selectedKeyword = keywordData[currentItem]?.sickNm;

    if (selectedKeyword) setQuery(selectedKeyword);
    else setQuery(query);
  }
}, [enterPressed]);

useEffect(() => {
  if (keywordData.length && (downPressed || upPressed)) {
    adjustScroll();
  }
}, [downPressed, upPressed, keywordData, currentItem]);
```

![á„á…µá„‡á…©á„ƒá…µá†¼](https://github.com/H0onnn/related-keyword/assets/116232939/66e3de90-fb50-4a1f-864f-ffba84ab7773)

<br/>

#### [Assignment 5] DB ì„œë²„ ë°±ì—”ë“œ ì„¤ì •

ì´ë²ˆ ê³¼ì œì—ì„œëŠ” ê°„ë‹¨í•œ DB/ë°±ì—”ë“œ í”„ë¡œì íŠ¸ë¥¼ ì œê³µí•˜ê³ , ì´ë¥¼ ì´ìš©í•˜ì—¬ API í˜¸ì¶œì„ í†µí•œ response dataë¥¼ ë°›ì•„ì™€ í´ë¼ì´ì–¸íŠ¸ ë‹¨ì—ì„œ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì´ì—ˆìŠµë‹ˆë‹¤. DB ì´ìš©ì— ëŒ€í•´ ì €í¬ íŒ€ì›ë“¤ì€ ë‘ ê°€ì§€ ë°©ì‹ì„ ìƒê°í–ˆìŠµë‹ˆë‹¤.

1. ì½”ë“œ ì—ë””í„°ë¥¼ 2ê°œ ì‹¤í–‰í•˜ì—¬ ê°ê° FE, BE íŒŒì¼ì„ ì—´ì–´ ê°€ë™í•œë‹¤.
2. FE í”„ë¡œì íŠ¸ ë‚´ë¶€ì— DB json íŒŒì¼ì„ ì €ì¥í•œ ë’¤, json-serverì™€ concurrently ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì ìš©í•˜ì—¬ FEê°€ ê°€ë™ë˜ì—ˆì„ ë•Œ ê°„ì´ BE ì„œë²„ê°€ ë™ì‹œì— ê°€ë™ë˜ë„ë¡ í•œë‹¤.

ì½”ë“œ ì—ë””í„° í•˜ë‚˜ë§Œìœ¼ë¡œ FEì™€ BE ì„œë²„ë¥¼ ë™ì‹œì— ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆì–´, ê°œë°œ ì´ˆê¸° ì €í¬ëŠ” 2ë²ˆì˜ ë°©ì‹ì„ ì±„íƒí–ˆìŠµë‹ˆë‹¤.

- 5.1) ë°°í¬ í™˜ê²½ì—ì„œ json-serverê°€ ì‘ë™í•˜ì§€ ì•ŠëŠ” ì´ìŠˆ
  > FE í”„ë¡œì íŠ¸ì˜ ë¡œì»¬ í™˜ê²½ì—ì„œ json-serverëŠ” ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ì˜€ìœ¼ë‚˜, ë°°í¬ í™˜ê²½ì—ì„œëŠ” API í˜¸ì¶œì‹œ 'Network Error'ë¥¼ ë°˜í™˜í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì›ì¸ì„ ì°¾ì•„ë³¸ ê²°ê³¼ json-serverëŠ” í”„ë¡œë•ì…˜ í˜¹ì€ í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œì˜ ì‹¤í–‰ì„ ëª©ì ìœ¼ë¡œ ì„¤ê³„ë˜ì–´ FE í”„ë¡œì íŠ¸ ë‚´ë¶€ì—ì„œ json-server ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œìœ¼ë¡œ ë°°í¬ëŠ” ë¶ˆê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤. ì´ì— íŒ€ì› í•œ ë¶„ì´ BE ì„œë²„ë¥¼ í˜¸ìŠ¤íŒ… í”Œë«í¼ì„ í†µí•´ ë°°í¬í•˜ì—¬ íŒ€ì› ì „ì²´ê°€ ë¡œì»¬ í™˜ê²½, ë°°í¬ í™˜ê²½ ëª¨ë‘ì—ì„œ API ìš”ì²­ì„ ì •ìƒì ìœ¼ë¡œ ê°€ëŠ¥í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.

ë‹¤ì–‘í•œ í˜¸ìŠ¤íŒ… í”Œë«í¼ ì¤‘ ê°„ë‹¨í•œ ìˆ˜ì¤€ì˜ BE ì„œë²„ë¥¼ json-serverì˜ ê¸°ëŠ¥ì„ ëª¨ë°©í•œ ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ë°°í¬í•  ìˆ˜ ìˆëŠ” 'Vercel'ì„ ì´ìš©í–ˆìŠµë‹ˆë‹¤.

[ë°±ì—”ë“œ ì„œë²„ ë°°í¬ ê³¼ì •](https://www.notion.so/React-js-Typescript-Vercel-API-64e56592ecd94169b08fa5f1425e78db)

## ì•„í‚¤í…ì³

### ë””ë ‰í† ë¦¬ êµ¬ì¡°

```bash
wanted-onboarding-03
â”œâ”€â”€ README.md
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ package.json
â”œâ”€â”€ public
â”‚   â”œâ”€â”€ images
â”‚   â”‚   â””â”€â”€ search.png
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ App.tsx
â”‚   â”œâ”€â”€ api
â”‚   â”‚   â”œâ”€â”€ axios.ts
â”‚   â”‚   â””â”€â”€ data.ts
â”‚   â”œâ”€â”€ components
â”‚   â”‚   â”œâ”€â”€ UI
â”‚   â”‚   â”‚   â””â”€â”€ LoadingUI.tsx
â”‚   â”‚   â”œâ”€â”€ input
â”‚   â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ InputButton.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ InputImage.tsx
â”‚   â”‚   â”‚   â””â”€â”€ InputTextField.tsx
â”‚   â”‚   â””â”€â”€ modal
â”‚   â”‚       â”œâ”€â”€ KeywordItem.tsx
â”‚   â”‚       â”œâ”€â”€ KeywordList.tsx
â”‚   â”‚       â””â”€â”€ Modal.tsx
â”‚   â”œâ”€â”€ constants
â”‚   â”‚   â”œâ”€â”€ colors.ts
â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â”œâ”€â”€ context
â”‚   â”‚   â””â”€â”€ context.tsx
â”‚   â”œâ”€â”€ hooks
â”‚   â”‚   â”œâ”€â”€ useDebounce.ts
â”‚   â”‚   â””â”€â”€ useKeyPress.ts
â”‚   â”œâ”€â”€ index.css
â”‚   â”œâ”€â”€ index.tsx
â”‚   â”œâ”€â”€ layout
â”‚   â”‚   â””â”€â”€ PageLayout.tsx
â”‚   â”œâ”€â”€ pages
â”‚   â”‚   â””â”€â”€ MainPage.tsx
â”‚   â”œâ”€â”€ routes.tsx
â”‚   â””â”€â”€ utils
â”‚       â””â”€â”€ localCache.ts
â”œâ”€â”€ tsconfig.json
â””â”€â”€ webpack.config.js
```
